{%- comment -%}
  Shopify Markets Language Selector - Top Level Wrapper
  Compatible with existing header structure
  Replaces halo-top-language when Markets is enabled
{%- endcomment -%}

<div class="halo-top-language markets-top-language">
  <div class="btn-group disclosure">
    <button 
      type="button" 
      class="disclosure__button dropdown-toggle dropdown-label localization-form__select localization-selector link link--text caption-large" 
      aria-controls="HeaderLanguageList" 
      aria-describedby="HeaderLanguageLabel" 
      aria-label="{{ localization.language.iso_code }}"
    >
      <span class="text text-language">{{ localization.language.iso_code | upcase }}</span>
      {%- if localization.available_languages.size > 1 -%}
        {%- if icon == 'sort' -%}
          {% render 'icon-sort-down' %}
        {%- else -%}
          <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 551.13 551.13" height="512" viewBox="0 0 551.13 551.13" width="512">
            <path d="m275.565 361.679-223.897-223.896h-51.668l275.565 275.565 275.565-275.565h-51.668z"/>
          </svg>
        {%- endif -%}
      {%- endif -%}
    </button>
  </div>
  <div class="dropdown-language">
    {% render 'markets-language' %}
  </div>
</div>

